{% extends "base.html" %}
 
{% block content %}
<h1>Saisie des Param√®tres G√©n√©raux</h1>
<div class="form-container">
<form action="{{ url_for('main.saisie_parametres_generaux') }}" method="post">
    <div class="form-group">
        <label for="id_entreprise" class="tooltip">ID de l'entreprise:
            <span class="tooltiptext">Identifiant unique de l'entreprise</span>
        </label>
        <input type="text" id="id_entreprise" name="id_entreprise" class="autocomplete" required><br><br>
    </div>
 
    <div class="form-group">
        <label for="nom_entreprise" class="tooltip">Nom de l'entreprise:
            <span class="tooltiptext">Nom officiel de l'entreprise</span>
        </label>
        <input type="text" id="nom_entreprise" name="nom_entreprise" class="autocomplete" required><br><br>
    </div>  
 
    <div class="form-group">    
        <label for="devise" class="tooltip">Devise:
            <span class="tooltiptext">Devise utilis√©e pour les transactions</span>
        </label>
        <!-- <input type="text" id="devise" name="devise" required><br><br> -->
        <select id="devise" name="devise">
            {% for item in devises %}
                <option value="{{ item[0] }}">{{ item[0] }} - {{ item[1] }}</option>
            {% endfor %}
        </select>
    </div>
 
    <div class="form-group">
        <label for="langue" class="tooltip">Langue:
            <span class="tooltiptext">Langue pr√©f√©r√©e pour l'interface</span>
        </label>
        <!-- <input type="text" id="langue" name="langue" required><br><br> -->
        <select id="langue" name="langue">
            {% for item in langues %}
                <option value="{{ item[0] }}">{{ item[0] }} - {{ item[1] }}</option>
            {% endfor %}
        </select>
    </div>
 
    <div class="form-group">
        <label for="annee_exercice" class="tooltip">Ann√©e de l'exercice:
            <span class="tooltiptext">Ann√©e fiscale de l'entreprise</span>
        </label>
        <input type="text" id="annee_exercice" name="annee_exercice" required><br><br>
    </div>
 
    <div class="form-group">
        <label for="mois_debut_simulation" class="tooltip">Mois de d√©but de simulation:
            <span class="tooltiptext">Premier mois de la simulation</span>
        </label>
        <input type="text" id="mois_debut_simulation" name="mois_debut_simulation" required><br><br>
    </div>
 
    <div class="form-group">
        <button type="submit" value="Sauvegarder">Sauvegarder</button>
    </div>
</form>
 
<!-- Ic√¥ne pour afficher/cacher le tableau -->
<div class="toggle-icon" id="toggleIcon">üëÅÔ∏è Voir les donn√©es</div>
 
<div class="winked-zamble">
<!-- Tableau pour afficher les donn√©es enregistr√©es -->
<table id="dataTable" class="hidden">
    <thead>
        <tr>
            <th>ID de l'entreprise</th>
            <th>Nom de l'entreprise</th>
            <th>Devise</th>
            <th>Langue</th>
            <th>Ann√©e de l'exercice</th>
            <th>Mois de d√©but de simulation</th>
        </tr>
    </thead>
    <tbody>
        <!-- Les lignes de donn√©es seront ins√©r√©es ici -->
        {% for row in data %}
        <tr>
           
            <td>{{ row[1] }}</td>
            <td>{{ row[2] }}</td>
            <td>{{ row[3] }}</td>
            <td>{{ row[4] }}</td>
            <td>{{ row[5] }}</td>
            <td>{{ row[6] }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
</div>
</div>
<script>
        // Afficher/cacher le tableau lors du clic sur l'ic√¥ne
        document.getElementById('toggleIcon').addEventListener('click', function() {
            const dataTable = document.getElementById('dataTable');
            if (dataTable.classList.contains('hidden')) {
                dataTable.classList.remove('hidden');
                this.textContent = 'üëÅÔ∏è Cacher les donn√©es';
            } else {
                dataTable.classList.add('hidden');
                this.textContent = 'üëÅÔ∏è Voir les donn√©es';
            }
        });
</script>
{% endblock %}